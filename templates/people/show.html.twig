{% extends 'template.html.twig' %}

{% block title %}People index | MODAFA{% endblock %}

{% block logo %}<link rel="icon" href="/assets/images/php.png">{% endblock %}

{% block stylesheets %}
    <link href="/assets/css/styles.css" rel="stylesheet" />
{% endblock %}

{% block javascripts %}
    <script src="/assets/js/scripts.js"></script>
    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
{% endblock %}

{% block pageTitle %}
    <h1 class="mt-4">{{ person.firstname ~ " " ~ person.lastname}}</h1>
{% endblock %}

{% block body %}
    <h1>{{ person.domain }}</h1>
    <div class="container d-flex flex-row-reverse bd-highlight">
        <a href="{{ path('app_people_edit', {'id': person.id, 'slug': person.slug}) }}" class="btn btn-success p-2 bd-highlight">Edit</a>&nbsp;&nbsp;
        <a href="{{ path('app_people_statistical', {'year': year}) }}" class="btn btn-info p-2 bd-highlight">Back to list</a>
        &nbsp;&nbsp;{{ include('people/_delete_form.html.twig') }}
    </div>
    
    <div class="starter-template"></div>
        <div class="container mb-4"></div>
            <div class="row flex">
                        
                <div class="col-xl-6 col-sm-12 col-12 mb-4">
                    <div class="card mt-4">
                        <div class="view overlay mt-4">
                            <img class="card-img-top" src="/assets/images/illustration-2.png" alt="Card image cap">
                        </div>
                    </div>
                </div>

                <div class="col-xl-6 col-sm-12 col-12 mb-4">
                    <div class="card-body elegant-color white-text rounded-bottom">
                        <table class="table  table-striped table-hover">
                            <thead>
                                <tr class="table-active">
                                    <th colspan="2" class="card-title text-center">
                                        {{ person.firstname |upper }} 
                                        {% if person.lastname() != null %} 
                                            {{ person.lastname() |capitalize }}
                                        {% endif %}
                                    </th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Date of birth</th>
                                    <td>{{ person.dateofbirth ? person.dateofbirth|date('Y-m-d') : '' }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Email</th>
                                    <td>{{ person.email }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Post</th>
                                    <td>{{ person.post ? 'Employee' : 'Intern' }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Topic</th>
                                    <td>{{ person.topic ? person.topic : "<strong><i>The topic is not yet assigned</i></strong>" }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4" style="text-align: center;"> 
                                    <td class="fw-bolder">Framer :</td>
                                    <td><a style="text-decoration: none;" href="{{ path('app_user_show', {'id': person.user.id, 'slug': person.user.slug}) }}">{{ person.user.fullname }}</a></td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Results</th>
                                    <td>{{ person.result }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>School</th>
                                    <td>{{ person.school }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Level</th>
                                    <td>Level {{ person.level + 1 }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Domain</th>
                                    <td>{{ person.domain }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4 text-center">
                                    <th>Sex</th>
                                    <td>{{ person.sex ? 'Women' : 'Men' }}</td>
                                </tr>
                                <tr class="card-text white-text mb-4" style="text-align: center;">
                                    <td class="fw-bolder text-center" colspan="2">Dur√©e</td>
                                </tr>
                                <tr class="card-text white-text" style="text-align: center;">
                                    <td rowspan="2" >Start : </td>
                                </tr>
                                <tr class="card-text white-text" style="text-align: center;">
                                    <td>
                                        {{ person.startdate | date("m/d/Y") }}  
                                    </td>
                                </tr class="card-text white-text" style="text-align: center;">
                                <tr class="card-text white-text" style="text-align: center;">
                                    <td rowspan="2">End : </td>
                                </tr>
                                <tr class="card-text white-text" style="text-align: center;">
                                    <td>
                                        {{ person.enddate | date("m/d/Y") }}  
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
